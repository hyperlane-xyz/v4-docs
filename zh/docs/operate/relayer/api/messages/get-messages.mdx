---
title: '获取消息'
api: 'GET http://localhost:9090/messages'
---

在 nonce 范围内查询特定 domain 的消息。

<Expandable title="查询参数">
  <ParamField query="domain_id" type="number" required>
    链 domain ID (u32)
  </ParamField>
  <ParamField query="nonce_start" type="number" required>
    起始 nonce（包含）(u32)
  </ParamField>
  <ParamField query="nonce_end" type="number" required>
    结束 nonce（包含）(u32)
  </ParamField>
  <Note>
  验证：要求 `nonce_end > nonce_start`，如果无效则返回 400
  </Note>
</Expandable>

<Expandable title="响应正文">
  <ResponseField type="HyperlaneMessage[]">
    HyperlaneMessage 对象数组
  </ResponseField>
  <Expandable title="HyperlaneMessage">
    <ResponseField name="version" type="u8">
      Hyperlane 版本号
    </ResponseField>
    <ResponseField name="nonce" type="u32">
      消息 nonce
    </ResponseField>
    <ResponseField name="origin" type="u32">
      消息源
    </ResponseField>
    <ResponseField name="destination" type="u32">
      消息目标
    </ResponseField>
    <ResponseField name="sender" type="string">
      消息发送者
    </ResponseField>
    <ResponseField name="recipient" type="string">
      消息接收者
    </ResponseField>
    <ResponseField name="body" type="Vec<u8>">
      消息正文
    </ResponseField>
  </Expandable>
</Expandable>

<RequestExample>
```bash curl
curl "http://localhost:9090/messages?domain_id=1&nonce_start=100&nonce_end=200"
```

```javascript JavaScript
const response = await fetch('http://localhost:9090/messages?domain_id=1&nonce_start=100&nonce_end=200');
const { messages } = await response.json();
```

```python Python
import requests

response = requests.get('http://localhost:9090/messages', params={
    'domain_id': 1,
    'nonce_start': 100,
    'nonce_end': 200
})
messages = response.json()
```
</RequestExample>

<ResponseExample>
```json Response
{
  "messages": [
    {
      "version": 3,
      "nonce": 1235,
      "origin": 1,
      "destination": 2,
      "sender": "0xabc...",
      "recipient": "0xdef...",
      "body": [0, 3, 0, 23, 43, 65]
    }
  ]
}
```
</ResponseExample>